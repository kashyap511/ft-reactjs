(this["webpackJsonpft-reactjs"]=this["webpackJsonpft-reactjs"]||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=(a(99),a(12)),s=a(13),l=a(15),u=a(14),d=a(57),m=a(77),p=a.n(m),v=a(18),f=a(58),h=a.n(f),b=a(87),O=a(78),_=a(16),E=a(39),y=a(171),j=a(170),g=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{id:"combo-box-demo",options:this.props.options,getOptionLabel:function(e){return e.beneficiaryName},onChange:function(t,a){return e.props.onChange(a)},renderOption:function(e){var t,a;return r.a.createElement("div",null,r.a.createElement("div",null,e.beneficiaryName),r.a.createElement("div",null,(null===(t=e.beneficiaryBank)||void 0===t?void 0:t.name)+" | "+(null===(a=e.beneficiaryBank)||void 0===a?void 0:a.accountNumber)))},renderInput:function(t){return r.a.createElement(j.a,Object.assign({},t,{label:e.props.label,variant:"outlined"}))}})}}]),a}(n.Component),C=a(46),N=a.n(C),A=a(37),k=a.n(A),D=a(5),T=a(166),S=a(165),w=Object(D.a)({root:{width:"100%"}})(j.a),I=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={debits:[],credits:[],loaded:!1,loading:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.setLoggedIn(!0),this.setState(Object(_.a)({},this.state,{loading:!0})),this.getAccounts()}},{key:"getAccounts",value:function(){var e=Object(O.a)(h.a.mark((function e(){var t,a,n,r,o=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([N.a.get("http://localhost:9000/debitaccounts"),N.a.get("http://localhost:9000/creditaccounts")]);case 3:t=e.sent,a=Object(b.a)(t,2),n=a[0],r=a[1],setTimeout((function(){o.setState(Object(_.a)({},o.state,{debits:n.data.data,credits:r.data.data,loading:!1,loaded:!0}))}),3e3),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.props.history.push("/error");case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){var t={value:Number(e),valid:!1};e>10&&e<=2e3&&(t.valid=!0),this.props.setAmount(Object(_.a)({},t)),this.checkFormValidity()}},{key:"handleDebitAccountChange",value:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={value:Object(_.a)({},a),valid:!1};a.beneficiaryName!==(null===(e=this.props.credits)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.beneficiaryName)&&(n.valid=!0),this.props.setDebitAccount(Object(_.a)({},n)),this.checkFormValidity()}},{key:"handleCreditAccountChange",value:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={value:Object(_.a)({},a),valid:!1};a.beneficiaryName!==(null===(e=this.props.debits)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.beneficiaryName)&&(n.valid=!0),this.props.setCreditAccount(Object(_.a)({},n)),this.checkFormValidity()}},{key:"checkFormValidity",value:function(){var e=this;setTimeout((function(){var t=e.props.amt.valid&&e.props.debits.valid&&e.props.credits.valid;e.props.setFormValidity(t)}),0)}},{key:"handleFormSubmit",value:function(e){e.preventDefault(),this.props.history.push("/receipt")}},{key:"render",value:function(){var e=this,t=null,a=null;return this.state.debits.length>0&&(t=r.a.createElement("div",{className:k.a.formControl},r.a.createElement(g,{options:this.state.debits,label:"Select Debit Account",onChange:function(t){return e.handleDebitAccountChange(t)}}))),this.state.credits.length>0&&(a=r.a.createElement("div",{className:k.a.formControl},r.a.createElement(g,{options:this.state.debits,label:"Select Credit Account",onChange:function(t){return e.handleCreditAccountChange(t)}}))),r.a.createElement("form",{className:k.a.form,onSubmit:function(t){return e.handleFormSubmit(t)}},this.state.loading&&r.a.createElement(S.a,null),t,a,!this.state.loading&&r.a.createElement("div",{className:k.a.formControl},r.a.createElement(w,{type:"number",value:this.props.amt.value,onChange:function(t){return e.handleInputChange(t.target.value)},id:"outlined-basic",label:"Transfer Amount",variant:"outlined"})),r.a.createElement("div",{className:k.a.formControl},r.a.createElement(T.a,{className:k.a.button,disabled:!this.props.isFormValid,type:"submit",variant:"contained",color:"primary"},"Submit Transfer")))}}]),a}(n.Component),R=Object(E.b)((function(e){return{amt:e.form.amount,debits:e.form.debitAccount,credits:e.form.creditAccount,isFormValid:e.form.valid}}),(function(e){return{setAmount:function(t){return e({type:"SET_AMOUNT",payload:{amount:t}})},setDebitAccount:function(t){return e(function(e){return{type:"SET_DEBIT_ACCOUNT",payload:{account:e}}}(t))},setCreditAccount:function(t){return e(function(e){return{type:"SET_CREDIT_ACCOUNT",payload:{account:e}}}(t))},setFormValidity:function(t){return e(function(e){return{type:"SET_FORM_VALID",payload:{isValid:e}}}(t))},setLoggedIn:function(t){return e(function(e){return{type:"SET_LOGGED_IN",payload:{loggedIn:e}}}(t))}}}))(Object(v.f)(I)),F=a(42),V=a.n(F),x=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.loggedIn||this.props.history.push("/form")}},{key:"render",value:function(){var e,t;return r.a.createElement("div",{className:V.a.section},r.a.createElement("h1",{className:V.a.formReceipt},"Form Receipt"),r.a.createElement("p",{className:V.a.formReceipt},"Debit Account Number: "+(null===(e=this.props.debits)||void 0===e?void 0:e.beneficiaryName)),r.a.createElement("p",{className:V.a.formReceipt},"Credit Account Number: "+(null===(t=this.props.credits)||void 0===t?void 0:t.beneficiaryName)),r.a.createElement("p",{className:V.a.formReceipt},"Transfer Amount: "+this.props.amt))}}]),a}(n.Component),B=Object(E.b)((function(e){return{amt:e.form.amount.value,debits:e.form.debitAccount.value,credits:e.form.creditAccount.value,loggedIn:e.form.loggedIn}}))(Object(v.f)(x)),M=a(88),L=a(43),U=a.n(L),G=a(31),K=a.n(G),W=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:this.props.header?K.a.header:K.a.row},r.a.createElement("div",{className:K.a.district},this.props.dist.name),r.a.createElement("div",{className:K.a.data},this.props.dist.confirmed),r.a.createElement("div",{className:K.a.data},this.props.dist.recovered),r.a.createElement("div",{className:K.a.data},this.props.dist.deceased),r.a.createElement("div",{className:K.a.data},this.props.dist.active))}}]),a}(n.Component);var H=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={covidKarnataka:[],loading:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState(Object(_.a)({},this.state,{loading:!0})),N.a.get("https://api.covid19india.org/state_district_wise.json").then((function(t){var a,n,r,o,c,i=t.data.Karnataka.districtData,s=[];for(var l in i){var u=i[l];s.push((a=l,n=u.active,r=u.confirmed,o=u.deceased,c=u.recovered,{name:a,active:n,confirmed:r,deceased:o,recovered:c}))}setTimeout((function(){e.setState(Object(_.a)({},e.state,{covidKarnataka:Object(M.a)(s.sort((function(e,t){return t.confirmed-e.confirmed}))),loading:!1}))}),2e3)}))}},{key:"render",value:function(){var e=this.state.covidKarnataka.map((function(e,t){return r.a.createElement(W,{dist:e,key:t})})),t="";return this.state.loading&&(t=r.a.createElement(S.a,null)),r.a.createElement("div",{className:U.a.main},t,r.a.createElement(W,{header:"true",dist:{name:"District",confirmed:"T",recovered:"R",deceased:"D",active:"A"}}),e,r.a.createElement("div",null,r.a.createElement("div",{className:U.a.bullets},"T - Total"),r.a.createElement("div",{className:U.a.bullets},"R - Recovered"),r.a.createElement("div",{className:U.a.bullets},"D - Deceased"),r.a.createElement("div",{className:U.a.bullets},"A - Active")))}}]),a}(n.Component),P=a(53),q=a.n(P),J=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:q.a.section},r.a.createElement("div",{className:q.a.errorCode},"Oops!"),r.a.createElement("div",null,r.a.createElement("span",{className:q.a.errorDescription},"Something went wrong. Please try again later")))}}]),a}(n.Component),Q=a(54),X=a.n(Q),z=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:X.a.section},r.a.createElement("div",{className:X.a.errorCode},"404"),r.a.createElement("div",null,r.a.createElement("span",{className:X.a.errorDescription},"This page is not found")))}}]),a}(n.Component),$=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(v.c,null,r.a.createElement(v.a,{path:"/",exact:!0,component:H}),r.a.createElement(v.a,{path:"/transfer",exact:!0,component:R}),r.a.createElement(v.a,{path:"/summary",component:B}),r.a.createElement(v.a,{path:"/error",component:J}),r.a.createElement(v.a,{component:z}))}}]),a}(n.Component),Y=a(167),Z=a(168),ee=a(169),te=a(62),ae=a.n(te),ne=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Y.a,{position:"static"},r.a.createElement(Z.a,{className:ae.a.root},r.a.createElement(ee.a,{variant:"h6",className:ae.a.title},"Covid Karnataka Stats"))))}}]),a}(n.Component),re=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:p.a.main},r.a.createElement(ne,null),r.a.createElement($,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(35),ce={amount:{value:"",valid:!1},debitAccount:{value:null,valid:!1},creditAccount:{value:null,valid:!1},transactionDate:(new Date).toISOString(),valid:!1,loggedIn:!1};var ie=a(86),se=Object(oe.c)({form:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"SET_AMOUNT":return Object(_.a)({},e,{amount:Object(_.a)({},a.amount)});case"SET_DEBIT_ACCOUNT":return Object(_.a)({},e,{debitAccount:Object(_.a)({},a.account)});case"SET_CREDIT_ACCOUNT":return Object(_.a)({},e,{creditAccount:Object(_.a)({},a.account)});case"SET_FORM_VALID":return Object(_.a)({},e,{valid:a.isValid});case"SET_LOGGED_IN":return Object(_.a)({},e,{loggedIn:a.loggedIn})}return e}}),le=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,ue=Object(oe.e)(se,le(Object(oe.a)(ie.a)));c.a.render(r.a.createElement(E.a,{store:ue},r.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},31:function(e,t,a){e.exports={row:"Row_row__37sWi",district:"Row_district__3bM3r",data:"Row_data__HzcIc",header:"Row_header__GCtN0"}},37:function(e,t,a){e.exports={form:"Form_form__1_2C-",formControl:"Form_formControl__3h1VH",button:"Form_button__3VC8v"}},42:function(e,t,a){e.exports={formReceipt:"FormReceipt_formReceipt__1qqyy",section:"FormReceipt_section__2RdIf"}},43:function(e,t,a){e.exports={bullets:"CovidData_bullets__3u9h5",main:"CovidData_main__3vogC"}},53:function(e,t,a){e.exports={section:"Error_section__3kRd1",errorCode:"Error_errorCode__18Syj",errorDescription:"Error_errorDescription__bscQS"}},54:function(e,t,a){e.exports={section:"NotFound_section__3U6CM",errorCode:"NotFound_errorCode__2p3VB",errorDescription:"NotFound_errorDescription__1CcNF"}},62:function(e,t,a){e.exports={root:"AppBar_root__3gWVu",menuButton:"AppBar_menuButton__Qxxrt",title:"AppBar_title__2rulH"}},77:function(e,t,a){},94:function(e,t,a){e.exports=a(123)},99:function(e,t,a){}},[[94,1,2]]]);
//# sourceMappingURL=main.f66cb43b.chunk.js.map